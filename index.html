<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&family=Amiri:wght@400;700&display=swap');
        
        :root {
            --primary-blue: #1e40af;
            --primary-green: #059669;
            --primary-purple: #7c3aed;
            --primary-orange: #ea580c;
            --accent-yellow: #fbbf24;
            --text-dark: #1f2937;
            --text-medium: #374151;
            --text-light: #6b7280;
            --bg-light: #f8fafc;
            --bg-white: #ffffff;
            --border-light: #e5e7eb;
            --shadow-soft: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-large: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-success: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --gradient-warning: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 400% 400%;
            animation: gradientFlow 20s ease infinite;
            min-height: 100vh;
            color: var(--text-dark);
            overflow-x: hidden;
        }

        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        /* Enhanced Glass Morphism */
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: var(--shadow-large);
            position: relative;
            overflow: hidden;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        /* Floating Elements Animation */
        .floating-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            animation: floatShape 15s ease-in-out infinite;
        }

        .shape-1 {
            top: 10%;
            left: 10%;
            width: 80px;
            height: 80px;
            background: var(--primary-blue);
            border-radius: 50%;
            animation-delay: 0s;
        }

        .shape-2 {
            top: 20%;
            right: 15%;
            width: 60px;
            height: 60px;
            background: var(--primary-green);
            border-radius: 20px;
            animation-delay: 2s;
        }

        .shape-3 {
            bottom: 30%;
            left: 20%;
            width: 100px;
            height: 100px;
            background: var(--primary-purple);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            animation-delay: 4s;
        }

        .shape-4 {
            bottom: 20%;
            right: 10%;
            width: 70px;
            height: 70px;
            background: var(--primary-orange);
            border-radius: 50% 10px 50% 10px;
            animation-delay: 1s;
        }

        @keyframes floatShape {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(90deg); }
            50% { transform: translateY(-40px) rotate(180deg); }
            75% { transform: translateY(-20px) rotate(270deg); }
        }

        /* Enhanced Learning Cards */
        .learning-card {
            background: var(--bg-white);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-medium);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            border: 2px solid transparent;
        }

        .learning-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            animation: rotate 8s linear infinite;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .learning-card:hover::before {
            opacity: 1;
        }

        .learning-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: var(--shadow-large);
            border-color: rgba(102, 126, 234, 0.3);
        }

        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }

        /* Interactive Buttons */
        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 16px;
            padding: 1rem 2rem;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-medium);
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: var(--shadow-large);
        }

        /* Quiz Interface */
        .quiz-option {
            background: var(--bg-white);
            border: 2px solid var(--border-light);
            border-radius: 16px;
            padding: 1.5rem;
            margin: 1rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .quiz-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.3s ease;
        }

        .quiz-option:hover::before {
            left: 100%;
        }

        .quiz-option:hover {
            transform: translateX(8px);
            border-color: var(--primary-blue);
            box-shadow: var(--shadow-medium);
        }

        .quiz-option.selected {
            border-color: var(--primary-green);
            background: rgba(5, 150, 105, 0.05);
            box-shadow: 0 0 0 4px rgba(5, 150, 105, 0.1);
        }

        /* Progress Bar */
        .progress-container {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            height: 16px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .progress-bar {
            height: 100%;
            background: var(--gradient-success);
            border-radius: 50px;
            transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: progressShimmer 2s infinite;
        }

        @keyframes progressShimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: var(--shadow-soft);
        }

        /* Results Display */
        .result-card {
            background: var(--bg-white);
            border-radius: 24px;
            padding: 3rem;
            text-align: center;
            box-shadow: var(--shadow-large);
            position: relative;
            overflow: hidden;
            border: 3px solid transparent;
        }

        .result-card.visual {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, rgba(30, 64, 175, 0.05) 0%, rgba(255, 255, 255, 1) 100%);
        }

        .result-card.auditory {
            border-color: var(--primary-green);
            background: linear-gradient(135deg, rgba(5, 150, 105, 0.05) 0%, rgba(255, 255, 255, 1) 100%);
        }

        .result-card.kinesthetic {
            border-color: var(--primary-purple);
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.05) 0%, rgba(255, 255, 255, 1) 100%);
        }

        .result-icon {
            font-size: 6rem;
            animation: bounce 2s infinite;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        /* Score Visualization */
        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .score-circle::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: rotate 3s linear infinite;
        }

        .score-visual { background: var(--gradient-primary); }
        .score-auditory { background: var(--gradient-success); }
        .score-kinesthetic { background: var(--gradient-warning); }

        /* Modal Enhancements */
        .modal {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(25px);
            border-radius: 24px;
            box-shadow: var(--shadow-large);
            animation: modalSlide 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Input Fields */
        .input-field {
            background: var(--bg-white);
            border: 2px solid var(--border-light);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            color: var(--text-dark);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 4px rgba(30, 64, 175, 0.1);
            transform: translateY(-1px);
        }

        /* Typography */
        .title-main {
            font-family: 'Amiri', serif;
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--text-dark);
            text-align: center;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .title-section {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 1.5rem;
        }

        .text-body {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--text-medium);
        }

        /* Dashboard Cards */
        .dashboard-card {
            background: var(--bg-white);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-medium);
            transition: all 0.3s ease;
            border: 1px solid var(--border-light);
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-large);
        }

        /* Statistics Cards */
        .stat-card {
            background: var(--bg-white);
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--shadow-soft);
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .stat-card.visual { border-left-color: var(--primary-blue); }
        .stat-card.auditory { border-left-color: var(--primary-green); }
        .stat-card.kinesthetic { border-left-color: var(--primary-purple); }
        .stat-card.total { border-left-color: var(--primary-orange); }

        .stat-card:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-medium);
        }

        /* Learning Plan Cards */
        .plan-card {
            background: var(--bg-white);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: var(--shadow-soft);
            border-left: 4px solid var(--accent-yellow);
            transition: all 0.3s ease;
        }

        .plan-card:hover {
            transform: translateX(8px);
            box-shadow: var(--shadow-medium);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .title-main { font-size: 2.5rem; }
            .title-section { font-size: 2rem; }
            .learning-card { padding: 1.5rem; }
            .result-card { padding: 2rem; }
            .btn-primary { padding: 0.8rem 1.5rem; }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: 10px;
            border: 2px solid transparent;
            background-clip: content-box;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gradient-success);
            background-clip: content-box;
        }

        /* Loading Animation */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(102, 126, 234, 0.1);
            border-left: 4px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Enhanced Hover Effects */
        .hover-lift {
            transition: all 0.3s ease;
        }

        .hover-lift:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-large);
        }

        /* Icon Animations */
        .icon-bounce {
            animation: iconBounce 2s ease-in-out infinite;
        }

        @keyframes iconBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Gradient Text */
        .gradient-text {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Success Animation */
        .success-checkmark {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--primary-green);
            position: relative;
            animation: successPulse 0.6s ease-in-out;
        }

        .success-checkmark::after {
            content: 'âœ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        @keyframes successPulse {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <!-- Floating Shapes Background -->
    <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar relative z-20">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div class="text-5xl icon-bounce">ğŸ“</div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">Ù…Ù†ØµØ© Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø°ÙƒÙŠØ©</h1>
                        <p class="text-sm text-gray-600">Ø§ÙƒØªØ´Ù Ø·Ø±ÙŠÙ‚ØªÙƒ Ø§Ù„Ù…Ø«Ù„Ù‰ ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù…</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div id="userInfo" class="hidden glass-card px-4 py-2">
                        <span id="currentUser" class="text-gray-800 font-medium"></span>
                    </div>
                    <button id="themeToggle" class="p-3 rounded-full glass-card hover-lift">
                        <span class="text-2xl">ğŸŒ™</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container mx-auto px-6 py-8 relative z-10">
        <!-- Welcome Section -->
        <div id="welcomeSection" class="text-center mb-12">
            <div class="glass-card p-12 mb-8">
                <h2 class="title-main gradient-text mb-6">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø±Ø­Ù„Ø© Ø§ÙƒØªØ´Ø§Ù Ù†Ù…Ø· ØªØ¹Ù„Ù…Ùƒ! ğŸš€</h2>
                <p class="text-body mb-12 max-w-4xl mx-auto">
                    Ø§ÙƒØªØ´Ù ÙƒÙŠÙ ØªØªØ¹Ù„Ù… Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø®Ø·Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…Ø®ØµØµØ© Ù„Ùƒ. 
                    Ù…Ù†ØµØªÙ†Ø§ ØªØ³ØªØ®Ø¯Ù… Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ø³Ø§Ù„ÙŠØ¨ Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ù„ØªØ­Ø¯ÙŠØ¯ Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ ÙˆØªÙ‚Ø¯Ù… ØªÙˆØµÙŠØ§Øª Ù…Ø®ØµØµØ© Ù„Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†.
                </p>
                
                <div class="grid md:grid-cols-3 gap-8 mb-12">
                    <div class="learning-card hover-lift">
                        <div class="result-icon text-6xl mb-4 text-blue-600">ğŸ‘ï¸</div>
                        <h3 class="text-2xl font-bold mb-4 text-gray-800">Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø§Ù„Ø¨ØµØ±ÙŠ</h3>
                        <p class="text-body mb-4">ÙŠØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø±Ø¦ÙŠØ© ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†</p>
                        <div class="flex justify-center space-x-2 space-x-reverse">
                            <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">Ù…Ø®Ø·Ø·Ø§Øª</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">ØµÙˆØ±</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">Ø£Ù„ÙˆØ§Ù†</span>
                        </div>
                    </div>
                    
                    <div class="learning-card hover-lift">
                        <div class="result-icon text-6xl mb-4 text-green-600">ğŸ‘‚</div>
                        <h3 class="text-2xl font-bold mb-4 text-gray-800">Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø§Ù„Ø³Ù…Ø¹ÙŠ</h3>
                        <p class="text-body mb-4">ÙŠØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ ÙˆØ§Ù„Ù…Ù†Ø§Ù‚Ø´Ø© ÙˆØ§Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰</p>
                        <div class="flex justify-center space-x-2 space-x-reverse">
                            <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">Ù…Ù†Ø§Ù‚Ø´Ø§Øª</span>
                            <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">Ø§Ø³ØªÙ…Ø§Ø¹</span>
                            <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">Ù…ÙˆØ³ÙŠÙ‚Ù‰</span>
                        </div>
                    </div>
                    
                    <div class="learning-card hover-lift">
                        <div class="result-icon text-6xl mb-4 text-purple-600">âœ‹</div>
                        <h3 class="text-2xl font-bold mb-4 text-gray-800">Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙƒÙŠ</h3>
                        <p class="text-body mb-4">ÙŠØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠ ÙˆØ§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ù„Ù…Ø³</p>
                        <div class="flex justify-center space-x-2 space-x-reverse">
                            <span class="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm">ØªØ¬Ø§Ø±Ø¨</span>
                            <span class="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm">Ø­Ø±ÙƒØ©</span>
                            <span class="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm">ØªØ·Ø¨ÙŠÙ‚</span>
                        </div>
                    </div>
                </div>
                
                <button class="btn-primary text-xl py-6 px-12 font-bold" onclick="startAssessment()">
                    Ø§Ø¨Ø¯Ø£ Ø§ÙƒØªØ´Ø§Ù Ù†Ù…Ø· ØªØ¹Ù„Ù…Ùƒ Ø§Ù„Ø¢Ù†! âœ¨
                </button>
            </div>
        </div>

        <!-- Assessment Section -->
        <div id="assessmentSection" class="hidden">
            <div class="glass-card p-10 mb-8">
                <!-- Progress Bar -->
                <div class="mb-10">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-semibold text-gray-800">ØªÙ‚Ø¯Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</span>
                        <span class="glass-card px-4 py-2 text-lg font-semibold text-gray-800">
                            <span id="currentQuestion">0</span> Ù…Ù† <span id="totalQuestions">0</span>
                        </span>
                    </div>
                    <div class="progress-container">
                        <div id="progressBar" class="progress-bar" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Student Info Form -->
                <div id="studentInfoForm" class="mb-8">
                    <h3 class="title-section text-center mb-8">ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
                    <div class="grid md:grid-cols-3 gap-8">
                        <div>
                            <label class="block text-gray-800 font-semibold mb-3 text-lg">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
                            <input type="text" id="studentName" class="input-field w-full" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
                        </div>
                        <div>
                            <label class="block text-gray-800 font-semibold mb-3 text-lg">Ø§Ù„Ø¹Ù…Ø± *</label>
                            <input type="number" id="studentAge" min="5" max="100" class="input-field w-full" placeholder="Ø§Ù„Ø¹Ù…Ø±">
                        </div>
                        <div>
                            <label class="block text-gray-800 font-semibold mb-3 text-lg">Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ *</label>
                            <select id="studentGrade" class="input-field w-full">
                                <option value="">Ø§Ø®ØªØ± Ø§Ù„ØµÙ</option>
                                <option value="Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ">Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</option>
                                <option value="Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ">Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</option>
                                <option value="Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ">Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</option>
                                <option value="Ø§Ù„Ø±Ø§Ø¨Ø¹ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ">Ø§Ù„Ø±Ø§Ø¨Ø¹ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</option>
                                <option value="Ø§Ù„Ø®Ø§Ù…Ø³ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ">Ø§Ù„Ø®Ø§Ù…Ø³ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</option>
                                <option value="Ø§Ù„Ø³Ø§Ø¯Ø³ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ">Ø§Ù„Ø³Ø§Ø¯Ø³ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</option>
                                <option value="Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ù…ØªÙˆØ³Ø·">Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ù…ØªÙˆØ³Ø·</option>
                                <option value="Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·">Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·</option>
                                <option value="Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ù…ØªÙˆØ³Ø·">Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ù…ØªÙˆØ³Ø·</option>
                                <option value="Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ">Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
                                <option value="Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ">Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
                                <option value="Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ">Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
                            </select>
                        </div>
                    </div>
                    <div class="text-center mt-8">
                        <button class="btn-primary text-lg py-4 px-10" onclick="startQuiz()">
                            Ù…ØªØ§Ø¨Ø¹Ø© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸ“‹
                        </button>
                    </div>
                </div>

                <!-- Quiz Section -->
                <div id="quizSection" class="hidden">
                    <div class="text-center mb-10">
                        <h3 class="title-section">ğŸ§  Ø§Ø®ØªØ¨Ø§Ø± Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù…</h3>
                        <p class="text-body">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØªÙŠ ØªÙ†Ø§Ø³Ø¨Ùƒ Ø£ÙƒØ«Ø±</p>
                    </div>
                    
                    <div id="questionContainer" class="mb-10">
                        <!-- Questions will be generated here -->
                    </div>

                    <div class="flex justify-between items-center">
                        <button id="prevBtn" class="btn-primary bg-gray-500 py-4 px-8" onclick="previousQuestion()" disabled>
                            â† Ø§Ù„Ø³Ø§Ø¨Ù‚
                        </button>
                        <div class="flex space-x-4 space-x-reverse">
                            <button id="nextBtn" class="btn-primary py-4 px-8" onclick="nextQuestion()">
                                Ø§Ù„ØªØ§Ù„ÙŠ â†’
                            </button>
                            <button id="submitBtn" class="hidden btn-primary py-4 px-8" onclick="calculateResults()">
                                Ø§Ø­Ø³Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø© ğŸ¯
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="resultsSection" class="hidden">
            <div class="glass-card p-10 mb-8">
                <div class="text-center mb-10">
                    <h2 class="title-section">ğŸ‰ Ù†ØªØ§Ø¦Ø¬ Ø§Ø®ØªØ¨Ø§Ø± Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù…</h2>
                </div>

                <!-- Main Result Card -->
                <div id="mainResultCard" class="result-card mb-10">
                    <div class="result-icon mb-6" id="resultIcon"></div>
                    <h3 class="text-4xl font-bold mb-4 text-gray-800" id="resultTitle"></h3>
                    <p class="text-body mb-6 max-w-2xl mx-auto" id="resultDescription"></p>
                    <div class="text-6xl font-bold text-gray-800 mb-4" id="resultPercentage"></div>
                    <div class="text-lg text-gray-600">Ù‡Ø°Ø§ Ù‡Ùˆ Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø£Ù‚ÙˆÙ‰ Ù„Ø¯ÙŠÙƒ</div>
                </div>

                <!-- Detailed Results -->
                <div class="grid md:grid-cols-3 gap-8 mb-10">
                    <div class="dashboard-card text-center">
                        <div class="score-circle score-visual mx-auto mb-4">
                            <span id="visualScore">0%</span>
                        </div>
                        <h4 class="font-bold text-xl mb-2 text-gray-800">ğŸ‘ï¸ Ø¨ØµØ±ÙŠ</h4>
                        <p class="text-gray-600">Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø±Ø¤ÙŠØ©</p>
                    </div>
                    
                    <div class="dashboard-card text-center">
                        <div class="score-circle score-auditory mx-auto mb-4">
                            <span id="auditoryScore">0%</span>
                        </div>
                        <h4 class="font-bold text-xl mb-2 text-gray-800">ğŸ‘‚ Ø³Ù…Ø¹ÙŠ</h4>
                        <p class="text-gray-600">Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹</p>
                    </div>
                    
                    <div class="dashboard-card text-center">
                        <div class="score-circle score-kinesthetic mx-auto mb-4">
                            <span id="kinestheticScore">0%</span>
                        </div>
                        <h4 class="font-bold text-xl mb-2 text-gray-800">âœ‹ Ø­Ø±ÙƒÙŠ</h4>
                        <p class="text-gray-600">Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</p>
                    </div>
                </div>

                <!-- Personalized Learning Plan -->
                <div class="glass-card p-8 mb-8">
                    <h4 class="text-2xl font-bold text-gray-800 mb-6 text-center">ğŸ“š Ø®Ø·Ø© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø®ØµØµØ© Ù„Ùƒ</h4>
                    <div id="learningPlan" class="space-y-4"></div>
                </div>

                <!-- Tips and Recommendations -->
                <div class="glass-card p-8 mb-10">
                    <h4 class="text-2xl font-bold text-gray-800 mb-6 text-center">ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù…Ø®ØµØµØ© Ù„Ùƒ</h4>
                    <div id="personalizedTips" class="grid md:grid-cols-2 gap-6"></div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-wrap gap-6 justify-center">
                    <button class="btn-primary py-4 px-8 text-lg hover-lift" onclick="downloadReport()">
                        ğŸ“„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
                    </button>
                    <button class="btn-primary py-4 px-8 text-lg hover-lift" onclick="shareResults()">
                        ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                    </button>
                    <button class="btn-primary py-4 px-8 text-lg hover-lift" onclick="retakeTest()">
                        ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                    </button>
                </div>
            </div>
        </div>

        <!-- Teacher Access -->
        <div class="text-center mb-8">
            <button id="teacherAccessBtn" class="btn-primary py-6 px-12 text-xl font-bold hover-lift" onclick="showTeacherAccess()">
                ğŸ‘¨â€ğŸ« Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¹Ù„Ù…
            </button>
        </div>

        <!-- Teacher Setup Modal -->
        <div id="teacherSetupModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="modal p-10 max-w-lg w-full mx-4">
                <div class="text-center mb-8">
                    <div class="success-checkmark mx-auto mb-4"></div>
                    <h3 class="title-section text-gray-800">Ø¥Ø¹Ø¯Ø§Ø¯ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ù„Ù…</h3>
                    <p class="text-body">Ù…Ø±Ø­Ø¨Ø§Ù‹! Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø®Ø§Øµ Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</p>
                </div>
                
                <div class="space-y-6">
                    <div>
                        <label class="block text-gray-800 font-semibold mb-3">Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù… *</label>
                        <input type="text" id="teacherName" class="input-field w-full" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
                    </div>
                    
                    <div>
                        <label class="block text-gray-800 font-semibold mb-3">Ø§Ù„Ù…Ø¯Ø±Ø³Ø©/Ø§Ù„Ù…Ø¤Ø³Ø³Ø©</label>
                        <input type="text" id="teacherSchool" class="input-field w-full" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø£Ùˆ Ø§Ù„Ù…Ø¤Ø³Ø³Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                    </div>
                    
                    <div>
                        <label class="block text-gray-800 font-semibold mb-3">Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± *</label>
                        <div class="relative">
                            <input type="password" id="newTeacherPassword" class="input-field w-full" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©" oninput="checkPasswordStrength()">
                            <button type="button" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700" onclick="togglePasswordVisibility('newTeacherPassword')">
                                ğŸ‘ï¸
                            </button>
                        </div>
                        <div class="mt-2">
                            <div class="flex justify-between text-xs text-gray-600 mb-1">
                                <span>Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</span>
                                <span id="strengthText">Ø¶Ø¹ÙŠÙ</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div id="strengthBar" class="bg-red-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-800 font-semibold mb-3">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± *</label>
                        <input type="password" id="confirmTeacherPassword" class="input-field w-full" placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                    </div>
                </div>
                
                <div class="flex gap-4 mt-8">
                    <button class="btn-primary flex-1 py-3" onclick="setupTeacherAccount()">
                        Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ ğŸš€
                    </button>
                    <button class="btn-primary bg-gray-500 flex-1 py-3" onclick="hideTeacherSetup()">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
                <div id="setupError" class="text-red-500 text-sm mt-3 text-center hidden"></div>
            </div>
        </div>

        <!-- Teacher Login Modal -->
        <div id="teacherLoginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="modal p-8 max-w-md w-full mx-4">
                <div class="text-center mb-6">
                    <div class="text-6xl mb-4">ğŸ”</div>
                    <h3 class="text-2xl font-bold text-gray-800">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¹Ù„Ù…</h3>
                    <p class="text-body mt-2" id="welcomeTeacherText">Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</p>
                </div>
                <div class="relative mb-4">
                    <input type="password" id="teacherPassword" class="input-field w-full" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                    <button type="button" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700" onclick="togglePasswordVisibility('teacherPassword')">
                        ğŸ‘ï¸
                    </button>
                </div>
                <div class="flex gap-4">
                    <button class="btn-primary flex-1 py-3" onclick="verifyTeacher()">Ø¯Ø®ÙˆÙ„</button>
                    <button class="btn-primary bg-gray-500 flex-1 py-3" onclick="hideTeacherLogin()">Ø¥Ù„ØºØ§Ø¡</button>
                </div>
                <div class="text-center mt-4">
                    <button class="text-sm text-blue-600 hover:text-blue-800 underline" onclick="showPasswordReset()">
                        Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ
                    </button>
                </div>
                <div id="loginError" class="text-red-500 text-sm mt-3 text-center hidden">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©</div>
            </div>
        </div>

        <!-- Teacher Dashboard -->
        <div id="teacherDashboard" class="hidden">
            <div class="glass-card p-10">
                <!-- Dashboard Header -->
                <div class="flex justify-between items-center mb-10">
                    <div>
                        <h2 class="title-section text-gray-800">ğŸ‘¨â€ğŸ« Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¹Ù„Ù…</h2>
                        <p class="text-body" id="teacherWelcome">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</p>
                    </div>
                    <div class="flex gap-4">
                        <button class="btn-primary py-3 px-6 hover-lift" onclick="logout()">
                            ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ ğŸšª
                        </button>
                    </div>
                </div>

                <!-- Statistics Cards -->
                <div class="grid md:grid-cols-4 gap-6 mb-10">
                    <div class="stat-card total hover-lift">
                        <div class="text-4xl font-bold text-orange-600" id="totalStudents">0</div>
                        <div class="text-lg text-gray-600 mt-2">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø§Ø¨</div>
                        <div class="text-3xl mt-3">ğŸ‘¥</div>
                    </div>
                    <div class="stat-card visual hover-lift">
                        <div class="text-4xl font-bold text-blue-600" id="visualLearners">0</div>
                        <div class="text-lg text-gray-600 mt-2">Ù…ØªØ¹Ù„Ù… Ø¨ØµØ±ÙŠ</div>
                        <div class="text-3xl mt-3">ğŸ‘ï¸</div>
                    </div>
                    <div class="stat-card auditory hover-lift">
                        <div class="text-4xl font-bold text-green-600" id="auditoryLearners">0</div>
                        <div class="text-lg text-gray-600 mt-2">Ù…ØªØ¹Ù„Ù… Ø³Ù…Ø¹ÙŠ</div>
                        <div class="text-3xl mt-3">ğŸ‘‚</div>
                    </div>
                    <div class="stat-card kinesthetic hover-lift">
                        <div class="text-4xl font-bold text-purple-600" id="kinestheticLearners">0</div>
                        <div class="text-lg text-gray-600 mt-2">Ù…ØªØ¹Ù„Ù… Ø­Ø±ÙƒÙŠ</div>
                        <div class="text-3xl mt-3">âœ‹</div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="dashboard-card">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 text-center">ØªÙˆØ²ÙŠØ¹ Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ¹Ù„Ù…</h3>
                        <canvas id="learningStyleChart" width="400" height="400"></canvas>
                    </div>
                    <div class="dashboard-card">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 text-center">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø­Ø³Ø¨ Ø§Ù„ØµÙ</h3>
                        <canvas id="gradeDistributionChart" width="400" height="400"></canvas>
                    </div>
                </div>

                <!-- Learning Plans Generator -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6">ğŸ¯ Ù…ÙˆÙ„Ø¯ Ø§Ù„Ø®Ø·Ø· Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø°ÙƒÙŠ</h3>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="text-center">
                            <button class="btn-primary w-full py-4 hover-lift" onclick="generateVisualPlan()">
                                ğŸ‘ï¸ Ø®Ø·Ø© Ù„Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ† Ø§Ù„Ø¨ØµØ±ÙŠÙŠÙ†
                            </button>
                        </div>
                        <div class="text-center">
                            <button class="btn-primary w-full py-4 hover-lift" onclick="generateAuditoryPlan()">
                                ğŸ‘‚ Ø®Ø·Ø© Ù„Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ† Ø§Ù„Ø³Ù…Ø¹ÙŠÙŠÙ†
                            </button>
                        </div>
                        <div class="text-center">
                            <button class="btn-primary w-full py-4 hover-lift" onclick="generateKinestheticPlan()">
                                âœ‹ Ø®Ø·Ø© Ù„Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ† Ø§Ù„Ø­Ø±ÙƒÙŠÙŠÙ†
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Export Tools -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6">ğŸ› ï¸ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØµØ¯ÙŠØ± ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>
                    <div class="grid md:grid-cols-4 gap-4">
                        <button class="btn-primary py-3 px-4 text-sm hover-lift" onclick="exportStudentData()">
                            ğŸ“Š ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨
                        </button>
                        <button class="btn-primary py-3 px-4 text-sm hover-lift" onclick="exportLessonPlans()">
                            ğŸ“š ØªØµØ¯ÙŠØ± Ø§Ù„Ø®Ø·Ø· Ø§Ù„Ø¯Ø±Ø³ÙŠØ©
                        </button>
                        <button class="btn-primary py-3 px-4 text-sm hover-lift" onclick="exportDetailedReport()">
                            ğŸ“ˆ ØªÙ‚Ø±ÙŠØ± Ù…ÙØµÙ„
                        </button>
                        <button class="btn-primary bg-red-600 py-3 px-4 text-sm hover-lift" onclick="clearAllData()">
                            ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                        </button>
                    </div>
                </div>

                <!-- Students List -->
                <div class="dashboard-card">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-800">ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©</h3>
                        <div class="flex gap-2">
                            <select id="filterGrade" class="input-field text-sm" onchange="filterStudents()">
                                <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙ</option>
                            </select>
                            <select id="filterStyle" class="input-field text-sm" onchange="filterStudents()">
                                <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ù…Ø§Ø·</option>
                                <option value="visual">Ø¨ØµØ±ÙŠ</option>
                                <option value="auditory">Ø³Ù…Ø¹ÙŠ</option>
                                <option value="kinesthetic">Ø­Ø±ÙƒÙŠ</option>
                            </select>
                        </div>
                    </div>
                    <div id="studentsList" class="space-y-4 max-h-96 overflow-y-auto">
                        <p class="text-gray-500 text-center py-8">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø·Ù„Ø§Ø¨ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Generated Learning Plan Modal -->
        <div id="learningPlanModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="modal p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                <div class="text-center mb-6">
                    <h3 class="title-section text-gray-800" id="planModalTitle">Ø®Ø·Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…Ø®ØµØµØ©</h3>
                    <button class="absolute top-4 left-4 text-gray-500 hover:text-gray-700 text-2xl" onclick="hideLearningPlanModal()">Ã—</button>
                </div>
                <div id="planModalContent" class="space-y-6">
                    <!-- Plan content will be generated here -->
                </div>
                <div class="text-center mt-8">
                    <button class="btn-primary py-3 px-8 hover-lift" onclick="downloadCurrentPlan()">
                        ğŸ“„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø·Ø©
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuration and Data
        let currentQuestionIndex = 0;
        let studentAnswers = [];
        let studentData = JSON.parse(localStorage.getItem('studentData')) || [];
        let teacherData = JSON.parse(localStorage.getItem('teacherData')) || null;
        let isTeacherLoggedIn = false;
        let currentGeneratedPlan = '';

        // Enhanced Learning Style Questions
        const questions = [
            {
                question: "Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø­Ø§ÙˆÙ„ ØªØ°ÙƒØ± Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø¬Ø¯ÙŠØ¯ØŒ Ø£Ù…ÙŠÙ„ Ø¥Ù„Ù‰:",
                options: [
                    { text: "ÙƒØªØ§Ø¨ØªÙ‡ ÙˆØªØµÙˆØ± Ø´ÙƒÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙÙŠ Ø°Ù‡Ù†ÙŠ", type: "visual", weight: 4 },
                    { text: "ØªÙƒØ±Ø§Ø±Ù‡ Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù Ø¹Ø¯Ø© Ù…Ø±Ø§Øª", type: "auditory", weight: 4 },
                    { text: "Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨Ø£ØµØ§Ø¨Ø¹ÙŠ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸Ù‡", type: "kinesthetic", weight: 4 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø¶ÙŠØ¹ ÙÙŠ Ù…ÙƒØ§Ù† Ø¬Ø¯ÙŠØ¯ØŒ Ø£ÙØ¶Ù„ Ø£Ù†:",
                options: [
                    { text: "Ø£Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø®Ø±ÙŠØ·Ø© Ø£Ùˆ Ù„Ø§ÙØªØ§Øª Ø§Ù„Ø·Ø±Ù‚", type: "visual", weight: 4 },
                    { text: "Ø£Ø³Ø£Ù„ Ø´Ø®ØµØ§Ù‹ Ø¹Ù† Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø´ÙÙ‡ÙŠØ§Ù‹", type: "auditory", weight: 4 },
                    { text: "Ø£Ø³ØªÙƒØ´Ù Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø¨Ù†ÙØ³ÙŠ Ø­ØªÙ‰ Ø£Ø¬Ø¯ Ø§Ù„Ø·Ø±ÙŠÙ‚", type: "kinesthetic", weight: 4 }
                ]
            },
            {
                question: "Ø£Ø«Ù†Ø§Ø¡ Ù…Ø­Ø§Ø¶Ø±Ø© Ù…Ù‡Ù…Ø©ØŒ Ø£Ø±ÙƒØ² Ø£ÙƒØ«Ø± Ø¹Ù†Ø¯Ù…Ø§:",
                options: [
                    { text: "Ø£Ø±Ù‰ Ø¹Ø±ÙˆØ¶Ø§Ù‹ ØªÙ‚Ø¯ÙŠÙ…ÙŠØ© ÙˆÙ…Ø®Ø·Ø·Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©", type: "visual", weight: 3 },
                    { text: "Ø£Ø³ØªÙ…Ø¹ Ø¨Ø¹Ù†Ø§ÙŠØ© Ù„ØµÙˆØª Ø§Ù„Ù…Ø­Ø§Ø¶Ø± ÙˆÙ†Ø¨Ø±ØªÙ‡", type: "auditory", weight: 3 },
                    { text: "Ø£Ø¯ÙˆÙ† Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¨ÙŠØ¯ÙŠ Ø£Ùˆ Ø£Ø­Ø±Ùƒ Ù‚Ù„Ù…Ø§Ù‹", type: "kinesthetic", weight: 3 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯ ØªØ¹Ù„Ù… Ù…Ù‡Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø«Ù„ Ø§Ù„Ø·Ø¨Ø®ØŒ Ø£ÙØ¶Ù„:",
                options: [
                    { text: "Ù…Ø´Ø§Ù‡Ø¯Ø© ÙÙŠØ¯ÙŠÙˆ ØªØ¹Ù„ÙŠÙ…ÙŠ Ø£Ùˆ ØµÙˆØ± Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©", type: "visual", weight: 4 },
                    { text: "Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ø´Ø®Øµ ÙŠØ´Ø±Ø­ Ù„ÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©", type: "auditory", weight: 4 },
                    { text: "Ø§Ù„ØªØ¬Ø±ÙŠØ¨ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± ÙˆØ§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„Ø£Ø®Ø·Ø§Ø¡", type: "kinesthetic", weight: 4 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø­ØªØ§Ø¬ Ù„ØªØ°ÙƒØ± Ù‚Ø§Ø¦Ù…Ø© Ù…Ø´ØªØ±ÙŠØ§ØªØŒ Ø£Ù…ÙŠÙ„ Ø¥Ù„Ù‰:",
                options: [
                    { text: "ÙƒØªØ§Ø¨ØªÙ‡Ø§ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±ØªØ¨Ø© Ø¨Ø£Ù„ÙˆØ§Ù† Ù…Ø®ØªÙ„ÙØ©", type: "visual", weight: 3 },
                    { text: "ØªÙƒØ±Ø§Ø±Ù‡Ø§ ÙÙŠ Ø°Ù‡Ù†ÙŠ ÙƒØ£ØºÙ†ÙŠØ© Ø£Ùˆ Ø¥ÙŠÙ‚Ø§Ø¹", type: "auditory", weight: 3 },
                    { text: "ØªØ®ÙŠÙ„ Ù†ÙØ³ÙŠ Ø£ØªØ¬ÙˆÙ„ ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø± ÙˆØ£Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡", type: "kinesthetic", weight: 3 }
                ]
            },
            {
                question: "ÙÙŠ Ø§Ø¬ØªÙ…Ø§Ø¹ Ø£Ùˆ Ù†Ù‚Ø§Ø´ Ø¬Ù…Ø§Ø¹ÙŠØŒ Ø£Ø´Ø§Ø±Ùƒ Ø£ÙƒØ«Ø± Ø¹Ù†Ø¯Ù…Ø§:",
                options: [
                    { text: "Ø£Ø±Ù‰ Ù…Ø®Ø·Ø·Ø§Øª Ø£Ùˆ Ø¹Ø±ÙˆØ¶ Ø¨ØµØ±ÙŠØ© ØªØ¯Ø¹Ù… Ø§Ù„Ù†Ù‚Ø§Ø´", type: "visual", weight: 3 },
                    { text: "Ø£Ø³ØªÙ…Ø¹ Ù„Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† ÙˆØ£Ø¨Ù†ÙŠ Ø¹Ù„ÙŠÙ‡Ø§ Ø´ÙÙ‡ÙŠØ§Ù‹", type: "auditory", weight: 3 },
                    { text: "Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„ÙˆÙ‚ÙˆÙ ÙˆØ§Ù„Ø­Ø±ÙƒØ© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙÙƒÙŠØ±", type: "kinesthetic", weight: 3 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯ Ù…Ø­Ø§ÙˆÙ„Ø© ÙÙ‡Ù… Ø¬Ù‡Ø§Ø² Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø¬Ø¯ÙŠØ¯ØŒ Ø£Ø¨Ø¯Ø£ Ø¨Ù€:",
                options: [
                    { text: "Ù‚Ø±Ø§Ø¡Ø© Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ù„Ù†Ø¸Ø± Ù„Ù„Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ©", type: "visual", weight: 4 },
                    { text: "Ø³Ø¤Ø§Ù„ Ø´Ø®Øµ Ø®Ø¨ÙŠØ± Ù„ÙŠØ´Ø±Ø­ Ù„ÙŠ ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡", type: "auditory", weight: 4 },
                    { text: "Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØªØ¬Ø±ÙŠØ¨ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ù…Ø¨Ø§Ø´Ø±Ø©", type: "kinesthetic", weight: 4 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø´Ø¹Ø± Ø¨Ø§Ù„ØªÙˆØªØ± Ø£Ùˆ Ø§Ù„Ù‚Ù„Ù‚ØŒ Ø£Ù‡Ø¯Ø£ Ø£ÙƒØ«Ø± Ø¹Ù†Ø¯Ù…Ø§:",
                options: [
                    { text: "Ø£Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ù…Ù†Ø§Ø¸Ø± Ø·Ø¨ÙŠØ¹ÙŠØ© Ø£Ùˆ ØµÙˆØ± Ù…Ø±ÙŠØ­Ø©", type: "visual", weight: 2 },
                    { text: "Ø£Ø³ØªÙ…Ø¹ Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù‡Ø§Ø¯Ø¦Ø© Ø£Ùˆ Ø£ØµÙˆØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©", type: "auditory", weight: 2 },
                    { text: "Ø£Ù…Ø§Ø±Ø³ Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø£Ùˆ Ø£ØªØ­Ø±Ùƒ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù†", type: "kinesthetic", weight: 2 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯ Ø­Ù„ Ù…Ø³Ø£Ù„Ø© Ø±ÙŠØ§Ø¶ÙŠØ© Ù…Ø¹Ù‚Ø¯Ø©ØŒ Ø£ÙØ¶Ù„ Ø£Ù†:",
                options: [
                    { text: "Ø£Ø±Ø³Ù… Ù…Ø®Ø·Ø·Ø§Øª ÙˆÙ…Ø¹Ø§Ø¯Ù„Ø§Øª Ø¨ØµØ±ÙŠØ© ÙˆØ§Ø¶Ø­Ø©", type: "visual", weight: 4 },
                    { text: "Ø£Ø´Ø±Ø­ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø­Ù„ Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù Ù„Ù†ÙØ³ÙŠ", type: "auditory", weight: 4 },
                    { text: "Ø£Ø³ØªØ®Ø¯Ù… Ø£Ø´ÙŠØ§Ø¡ Ù…Ù„Ù…ÙˆØ³Ø© Ø£Ùˆ Ø£Ø¹Ø¯ Ø¹Ù„Ù‰ Ø£ØµØ§Ø¨Ø¹ÙŠ", type: "kinesthetic", weight: 4 }
                ]
            },
            {
                question: "ÙÙŠ Ø§Ù„Ù…Ø·Ø¹Ù…ØŒ Ø£Ø®ØªØ§Ø± Ø·Ø¹Ø§Ù…ÙŠ Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰:",
                options: [
                    { text: "Ø´ÙƒÙ„ Ø§Ù„Ø·Ø¨Ù‚ ÙÙŠ Ø§Ù„ØµÙˆØ± Ø£Ùˆ Ø§Ù„Ù…Ù†ÙŠÙˆ Ø§Ù„Ù…ØµÙˆØ±", type: "visual", weight: 2 },
                    { text: "ÙˆØµÙ Ø§Ù„Ù†Ø§Ø¯Ù„ Ø£Ùˆ ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†", type: "auditory", weight: 2 },
                    { text: "Ø±Ø§Ø¦Ø­Ø© Ø§Ù„Ø·Ø¹Ø§Ù… Ø£Ùˆ ØªØ¬Ø±Ø¨Ø© Ø³Ø§Ø¨Ù‚Ø© Ù„Ù…Ø°Ø§Ù‚Ù‡", type: "kinesthetic", weight: 2 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø­Ø§ÙˆÙ„ ØªØ°ÙƒØ± Ø­Ø¯Ø« Ù…Ù‡Ù…ØŒ Ø£ØªØ°ÙƒØ± Ø£ÙƒØ«Ø±:",
                options: [
                    { text: "ÙƒÙŠÙ Ø¨Ø¯Ø§ Ø§Ù„Ù…ÙƒØ§Ù† ÙˆØ§Ù„Ø£Ø´Ø®Ø§Øµ ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†", type: "visual", weight: 3 },
                    { text: "Ù…Ø§ Ù‚ÙŠÙ„ Ù…Ù† ÙƒÙ„Ù…Ø§Øª ÙˆØ§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù…Ø­ÙŠØ·Ø©", type: "auditory", weight: 3 },
                    { text: "ÙƒÙŠÙ Ø´Ø¹Ø±Øª Ø¬Ø³Ø¯ÙŠØ§Ù‹ ÙˆÙ…Ø§ Ù„Ù…Ø³ØªÙ‡ Ø£Ùˆ ÙØ¹Ù„ØªÙ‡", type: "kinesthetic", weight: 3 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯ ØªØ¬Ù…ÙŠØ¹ Ø£Ø«Ø§Ø« Ø¬Ø¯ÙŠØ¯ØŒ Ø£Ø¹ØªÙ…Ø¯ Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø§Ø³ÙŠ Ø¹Ù„Ù‰:",
                options: [
                    { text: "Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ© ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ù…Ø±ÙÙ‚Ø©", type: "visual", weight: 4 },
                    { text: "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ù…ÙƒØªÙˆØ¨Ø© Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù", type: "auditory", weight: 4 },
                    { text: "ØªØ¬Ø±ÙŠØ¨ Ø§Ù„Ù‚Ø·Ø¹ ÙˆÙ…Ø­Ø§ÙˆÙ„Ø© ØªØ±ÙƒÙŠØ¨Ù‡Ø§ Ø¹Ù…Ù„ÙŠØ§Ù‹", type: "kinesthetic", weight: 4 }
                ]
            },
            {
                question: "ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„ Ø£Ùˆ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©ØŒ Ø£ÙƒÙˆÙ† Ø£ÙƒØ«Ø± Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø¹Ù†Ø¯Ù…Ø§:",
                options: [
                    { text: "ÙŠÙƒÙˆÙ† Ù…ÙƒØªØ¨ÙŠ Ù…Ù†Ø¸Ù…Ø§Ù‹ Ø¨ØµØ±ÙŠØ§Ù‹ Ù…Ø¹ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù„ÙˆÙ†Ø©", type: "visual", weight: 3 },
                    { text: "Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„ØªØ­Ø¯Ø« Ù…Ø¹ Ø§Ù„Ø²Ù…Ù„Ø§Ø¡ ÙˆÙ…Ù†Ø§Ù‚Ø´Ø© Ø§Ù„Ø£ÙÙƒØ§Ø±", type: "auditory", weight: 3 },
                    { text: "Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„ØªÙ†Ù‚Ù„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙÙƒÙŠØ±", type: "kinesthetic", weight: 3 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯ ØªØ¹Ù„Ù… Ø±Ù‚ØµØ© Ø£Ùˆ Ø­Ø±ÙƒØ© Ø±ÙŠØ§Ø¶ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©ØŒ Ø£ØªØ¹Ù„Ù… Ø£Ø³Ø±Ø¹ Ø¹Ù†Ø¯Ù…Ø§:",
                options: [
                    { text: "Ø£Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù…Ø¯Ø±Ø¨ ÙŠØ¤Ø¯ÙŠ Ø§Ù„Ø­Ø±ÙƒØ© Ø¹Ø¯Ø© Ù…Ø±Ø§Øª", type: "visual", weight: 4 },
                    { text: "Ø£Ø³ØªÙ…Ø¹ Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª ØµÙˆØªÙŠØ© Ù…ÙØµÙ„Ø© Ø¹Ù† ÙƒÙ„ Ø®Ø·ÙˆØ©", type: "auditory", weight: 4 },
                    { text: "Ø£Ø¬Ø±Ø¨ Ø§Ù„Ø­Ø±ÙƒØ© Ø¨Ù†ÙØ³ÙŠ Ù…Ø¹ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±", type: "kinesthetic", weight: 4 }
                ]
            },
            {
                question: "Ø¹Ù†Ø¯Ù…Ø§ Ø£Ù‚Ø±Ø£ Ù‚ØµØ© Ø£Ùˆ Ø±ÙˆØ§ÙŠØ©ØŒ Ø£Ø³ØªÙ…ØªØ¹ Ø£ÙƒØ«Ø± Ø¹Ù†Ø¯Ù…Ø§:",
                options: [
                    { text: "Ø£ØªØ®ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ ÙˆØ§Ù„Ø´Ø®ØµÙŠØ§Øª Ø¨ØµØ±ÙŠØ§Ù‹ ÙÙŠ Ø°Ù‡Ù†ÙŠ", type: "visual", weight: 3 },
                    { text: "Ø£Ù‚Ø±Ø£ Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù Ø£Ùˆ Ø£Ø³ØªÙ…Ø¹ Ù„Ù„ÙƒØªØ§Ø¨ Ø§Ù„ØµÙˆØªÙŠ", type: "auditory", weight: 3 },
                    { text: "Ø£Ø´Ø¹Ø± Ø¨Ø§Ù„Ù…Ø´Ø§Ø¹Ø± ÙˆØ§Ù„Ø£Ø­Ø§Ø³ÙŠØ³ Ø§Ù„ØªÙŠ ØªØµÙÙ‡Ø§ Ø§Ù„Ù‚ØµØ©", type: "kinesthetic", weight: 3 }
                ]
            }
        ];

        // Enhanced Learning Styles Data
        const learningStyles = {
            visual: {
                name: "Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø§Ù„Ø¨ØµØ±ÙŠ",
                icon: "ğŸ‘ï¸",
                description: "ØªØªØ¹Ù„Ù… Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø±Ø¤ÙŠØ© ÙˆØ§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ø¨ØµØ±ÙŠØ© ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†",
                characteristics: [
                    "ÙŠÙØ¶Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø¦ÙŠØ© ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª",
                    "ÙŠØªØ°ÙƒØ± Ø§Ù„ÙˆØ¬ÙˆÙ‡ Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ø£Ø³Ù…Ø§Ø¡",
                    "ÙŠØ­Ø¨ Ø§Ù„ØªÙ†Ø¸ÙŠÙ… ÙˆØ§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¨ØµØ±ÙŠ",
                    "ÙŠÙÙƒØ± Ø¨Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†",
                    "ÙŠØ³ØªÙÙŠØ¯ Ù…Ù† Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø°Ù‡Ù†ÙŠØ©"
                ],
                tips: [
                    "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø®ØªÙ„ÙØ© ÙÙŠ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆØ§Ù„ØªÙ†Ø¸ÙŠÙ…",
                    "Ø§Ø±Ø³Ù… Ù…Ø®Ø·Ø·Ø§Øª Ø°Ù‡Ù†ÙŠØ© ÙˆÙ…Ø®Ø·Ø·Ø§Øª Ø¨ÙŠØ§Ù†ÙŠØ© Ù„Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹",
                    "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ù…ØµÙˆØ±Ø© ÙˆØ§Ù„Ù…Ù„ÙˆÙ†Ø©",
                    "Ø´Ø§Ù‡Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø±Ø¦ÙŠØ©",
                    "Ù†Ø¸Ù… Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø¨ØµØ±ÙŠØ§Ù‹ ÙˆØ§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù„ØµÙ‚Ø§Øª"
                ],
                studyMethods: [
                    "Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø°Ù‡Ù†ÙŠØ© ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©",
                    "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙÙŠ Ø§Ù„ØªÙ…ÙŠÙŠØ² ÙˆØ§Ù„ØªØµÙ†ÙŠÙ",
                    "Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ© ÙˆØ§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª",
                    "Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ø¨ØµØ±ÙŠØ§Ù‹",
                    "Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…ÙŠØ© ÙˆØ§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©"
                ],
                teachingStrategies: [
                    "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø³Ø¨ÙˆØ±Ø© Ø§Ù„Ø°ÙƒÙŠØ© ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…ÙŠØ©",
                    "ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨ØµØ±ÙŠØ§Ù‹ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ø®Ø·Ø·Ø§Øª ÙˆØ§Ù„Ø±Ø³ÙˆÙ…",
                    "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ù„ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ù…Ø®ØªÙ„ÙØ©",
                    "ØªÙˆÙÙŠØ± Ù…ÙˆØ§Ø¯ Ø¨ØµØ±ÙŠØ© Ù…ØªÙ†ÙˆØ¹Ø© (ØµÙˆØ±ØŒ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§ØªØŒ Ù…Ø®Ø·Ø·Ø§Øª)",
                    "ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¹Ù„Ù‰ Ø±Ø³Ù… ÙˆØªØµÙˆØ± Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ…"
                ],
                activities: [
                    "Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø±Ø§Ø¦Ø· Ø°Ù‡Ù†ÙŠØ© Ù„Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©",
                    "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙÙŠ ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª",
                    "Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø£ÙÙ„Ø§Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆØ§Ù„ÙˆØ«Ø§Ø¦Ù‚ÙŠØ§Øª",
                    "Ø±Ø³Ù… Ø§Ù„Ù…Ø®Ø·Ø·Ø§Øª ÙˆØ§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ©",
                    "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ù…ØµÙˆØ±Ø©"
                ],
                assessment: "Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø±Ø³ÙˆÙ… ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø±Ø¦ÙŠØ© ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ÙÙ†ÙŠØ© ÙˆØ§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø°Ù‡Ù†ÙŠØ©"
            },
            auditory: {
                name: "Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø§Ù„Ø³Ù…Ø¹ÙŠ",
                icon: "ğŸ‘‚",
                description: "ØªØªØ¹Ù„Ù… Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ ÙˆØ§Ù„Ù…Ù†Ø§Ù‚Ø´Ø© ÙˆØ§Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰",
                characteristics: [
                    "ÙŠØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ ÙˆØ§Ù„Ù…Ù†Ø§Ù‚Ø´Ø©",
                    "ÙŠØªØ°ÙƒØ± Ù…Ø§ ÙŠØ³Ù…Ø¹Ù‡ Ø¨ÙˆØ¶ÙˆØ­",
                    "ÙŠØ­Ø¨ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙˆØ§Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ø¹Ø§Øª",
                    "ÙŠÙØ¶Ù„ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ ÙˆØ§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª",
                    "ÙŠØ³ØªÙÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„ØµÙˆØªÙŠ"
                ],
                tips: [
                    "Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© ÙˆØ§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª",
                    "Ø´Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø­ÙˆØ§Ø±Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©",
                    "Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù Ø£Ùˆ Ø§Ø³ØªÙ…Ø¹ Ù„Ù„ÙƒØªØ¨ Ø§Ù„ØµÙˆØªÙŠØ©",
                    "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª",
                    "Ø³Ø¬Ù„ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ø§Ù„ØµÙˆØªÙŠØ© ÙˆØ§Ø³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹"
                ],
                studyMethods: [
                    "Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© ÙˆØ§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ",
                    "Ø§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø­ÙˆØ§Ø±Ø§Øª",
                    "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù ÙˆØ§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ø´ÙÙ‡ÙŠ",
                    "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ ÙƒØ®Ù„ÙÙŠØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ©",
                    "Ø§Ù„Ø´Ø±Ø­ Ø§Ù„Ø´ÙÙ‡ÙŠ Ù„Ù„Ø¢Ø®Ø±ÙŠÙ†"
                ],
                teachingStrategies: [
                    "ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª Ø§Ù„Ø´ÙÙ‡ÙŠØ© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©",
                    "ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø¹ØµÙ Ø§Ù„Ø°Ù‡Ù†ÙŠ",
                    "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© ÙˆØ§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©",
                    "ØªÙ†Ø¸ÙŠÙ… Ø¬Ù„Ø³Ø§Øª Ø­ÙˆØ§Ø± ÙˆÙ†Ù‚Ø§Ø´ Ø­ÙˆÙ„ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹",
                    "ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±Ø­ Ø§Ù„Ø´ÙÙ‡ÙŠ"
                ],
                activities: [
                    "Ø§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø­ÙˆØ§Ø±Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©",
                    "Ø§Ù„Ø¹ØµÙ Ø§Ù„Ø°Ù‡Ù†ÙŠ Ø§Ù„Ø´ÙÙˆÙŠ ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…ÙŠØ©",
                    "Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø£ØºØ§Ù†ÙŠ ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ ÙˆØ§Ù„Ù‚ÙˆØ§ÙÙŠ",
                    "Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø´ÙÙˆÙŠØ© ÙˆØ§Ù„Ø®Ø·Ø§Ø¨Ø© ÙˆØ§Ù„Ø¥Ù„Ù‚Ø§Ø¡",
                    "Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØµÙˆØªÙŠØ© ÙˆØ§Ù„Ù„ØºÙˆÙŠØ© ÙˆØ§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©"
                ],
                assessment: "Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø´ÙÙˆÙŠ ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„ØµÙˆØªÙŠØ© ÙˆØ§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª ÙˆØ§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ø§Ù„Ø´ÙÙ‡ÙŠØ©"
            },
            kinesthetic: {
                name: "Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙƒÙŠ",
                icon: "âœ‹",
                description: "ØªØªØ¹Ù„Ù… Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠ ÙˆØ§Ù„Ù„Ù…Ø³ ÙˆØ§Ù„ØªØ¬Ø±ÙŠØ¨",
                characteristics: [
                    "ÙŠØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠ ÙˆØ§Ù„ØªØ¬Ø±ÙŠØ¨",
                    "ÙŠØ­ØªØ§Ø¬ Ù„Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ù†Ø´Ø§Ø· Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ¹Ù„Ù…",
                    "ÙŠÙØ¶Ù„ Ø§Ù„ØªØ¬Ø§Ø±Ø¨ ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ©",
                    "ÙŠØªØ°ÙƒØ± Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ©",
                    "ÙŠØ³ØªÙÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨"
                ],
                tips: [
                    "Ù…Ø§Ø±Ø³ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆØ§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ù…Ø®ØªØ¨Ø±ÙŠØ©",
                    "Ø§Ø³ØªØ®Ø¯Ù… ÙŠØ¯ÙŠÙƒ ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù… ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø© ÙˆØ§Ù„Ø±Ø³Ù…",
                    "Ø®Ø° ÙØªØ±Ø§Øª Ø±Ø§Ø­Ø© Ù„Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ",
                    "ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù„Ø¹Ø¨ ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©",
                    "Ø·Ø¨Ù‚ Ù…Ø§ ØªØªØ¹Ù„Ù…Ù‡ ÙÙˆØ±Ø§Ù‹ ÙÙŠ Ù…ÙˆØ§Ù‚Ù Ø­Ù‚ÙŠÙ‚ÙŠØ©"
                ],
                studyMethods: [
                    "Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø®ØªØ¨Ø±Ø§Øª ÙˆØ§Ù„ÙˆØ±Ø´",
                    "Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© ÙˆØ§Ù„Ø­Ø±ÙÙŠØ© ÙˆØ§Ù„ÙÙ†ÙŠØ©",
                    "Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø­Ø§ÙƒØ§Ø©",
                    "Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ·Ù„Ø§Ø¹ÙŠØ© Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ø²ÙŠØ§Ø±Ø§Øª",
                    "Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ"
                ],
                teachingStrategies: [
                    "ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ø®ØªØ¨Ø±ÙŠØ©",
                    "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ù…Ø­Ø§ÙƒØ§Ø©",
                    "ØªØ´Ø¬ÙŠØ¹ Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ù†Ø´Ø§Ø·",
                    "ØªÙˆÙÙŠØ± Ù…ÙˆØ§Ø¯ Ù…Ù„Ù…ÙˆØ³Ø© ÙˆØ£Ø¯ÙˆØ§Øª ØªÙØ§Ø¹Ù„ÙŠØ©",
                    "ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠØ©"
                ],
                activities: [
                    "Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø®ØªØ¨Ø±ÙŠØ© ÙˆØ§Ù„Ø§Ø³ØªÙƒØ´Ø§ÙÙŠØ©",
                    "Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø­Ø±ÙƒÙŠØ© ÙˆØ§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©",
                    "Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© ÙˆØ§Ù„Ø­Ø±ÙÙŠØ© ÙˆØ§Ù„ÙÙ†ÙŠØ©",
                    "Ø§Ù„ØªØ¹Ù„Ù… ÙÙŠ Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ø·Ù„Ù‚ ÙˆØ§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©",
                    "Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© ÙˆØ§Ù„ØªÙ…Ø«ÙŠÙ„ ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠ"
                ],
                assessment: "Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠØ© ÙˆØ§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ù…Ø®ØªØ¨Ø±ÙŠØ©"
            }
        };

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            
            // Add event listeners for buttons
            const startButton = document.querySelector('button[onclick="startAssessment()"]');
            if (startButton) {
                startButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    startAssessment();
                });
            }
        });

        function initializeApp() {
            setupThemeToggle();
            showWelcomeSection();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', handleKeyboardShortcuts);
        }

        function handleKeyboardShortcuts(e) {
            if (e.key === 'Escape') {
                hideAllModals();
            }
        }

        function hideAllModals() {
            document.getElementById('teacherSetupModal').classList.add('hidden');
            document.getElementById('teacherLoginModal').classList.add('hidden');
            document.getElementById('learningPlanModal').classList.add('hidden');
        }

        function setupThemeToggle() {
            const themeToggle = document.getElementById('themeToggle');
            themeToggle.addEventListener('click', toggleTheme);
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            const themeToggle = document.getElementById('themeToggle');
            themeToggle.innerHTML = document.body.classList.contains('dark-theme') ? '<span class="text-2xl">â˜€ï¸</span>' : '<span class="text-2xl">ğŸŒ™</span>';
        }

        function showWelcomeSection() {
            document.getElementById('welcomeSection').classList.remove('hidden');
            document.getElementById('assessmentSection').classList.add('hidden');
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('teacherDashboard').classList.add('hidden');
        }

        function startAssessment() {
            console.log('Starting assessment...');
            
            // Hide welcome section
            const welcomeSection = document.getElementById('welcomeSection');
            if (welcomeSection) {
                welcomeSection.classList.add('hidden');
            }
            
            // Show assessment section
            const assessmentSection = document.getElementById('assessmentSection');
            if (assessmentSection) {
                assessmentSection.classList.remove('hidden');
            }
            
            // Set total questions
            const totalQuestionsElement = document.getElementById('totalQuestions');
            if (totalQuestionsElement) {
                totalQuestionsElement.textContent = questions.length;
            }
            
            // Reset quiz
            resetQuiz();
            
            // Scroll to assessment section
            if (assessmentSection) {
                assessmentSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            studentAnswers = [];
            document.getElementById('studentInfoForm').classList.remove('hidden');
            document.getElementById('quizSection').classList.add('hidden');
            updateProgress();
        }

        function startQuiz() {
            const name = document.getElementById('studentName').value.trim();
            const age = document.getElementById('studentAge').value;
            const grade = document.getElementById('studentGrade').value;

            if (!name || !age || !grade) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }

            if (age < 5 || age > 100) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù…Ø± ØµØ­ÙŠØ­');
                return;
            }

            document.getElementById('studentInfoForm').classList.add('hidden');
            document.getElementById('quizSection').classList.remove('hidden');
            displayQuestion();
        }

        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            const container = document.getElementById('questionContainer');
            
            container.innerHTML = `
                <div class="glass-card p-8">
                    <h4 class="text-2xl font-bold text-gray-800 mb-8 text-center">
                        Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentQuestionIndex + 1}: ${question.question}
                    </h4>
                    <div class="space-y-4">
                        ${question.options.map((option, index) => `
                            <label class="quiz-option flex items-center cursor-pointer">
                                <input type="radio" name="currentQuestion" value="${index}" class="ml-4 w-6 h-6 text-blue-600">
                                <span class="text-gray-800 text-lg">${option.text}</span>
                            </label>
                        `).join('')}
                    </div>
                </div>
            `;

            const options = container.querySelectorAll('input[type="radio"]');
            options.forEach(option => {
                option.addEventListener('change', function() {
                    container.querySelectorAll('.quiz-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.closest('.quiz-option').classList.add('selected');
                });
            });

            updateProgress();
            updateNavigationButtons();
        }

        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            prevBtn.disabled = currentQuestionIndex === 0;
            prevBtn.classList.toggle('opacity-50', currentQuestionIndex === 0);

            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                saveCurrentAnswer();
                currentQuestionIndex--;
                displayQuestion();
                restoreAnswer();
            }
        }

        function nextQuestion() {
            const selected = document.querySelector('input[name="currentQuestion"]:checked');
            if (!selected) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©');
                return;
            }

            saveCurrentAnswer();
            currentQuestionIndex++;
            
            if (currentQuestionIndex < questions.length) {
                displayQuestion();
                restoreAnswer();
            }
        }

        function saveCurrentAnswer() {
            const selected = document.querySelector('input[name="currentQuestion"]:checked');
            if (selected) {
                studentAnswers[currentQuestionIndex] = parseInt(selected.value);
            }
        }

        function restoreAnswer() {
            if (studentAnswers[currentQuestionIndex] !== undefined) {
                const radio = document.querySelector(`input[name="currentQuestion"][value="${studentAnswers[currentQuestionIndex]}"]`);
                if (radio) {
                    radio.checked = true;
                    radio.closest('.quiz-option').classList.add('selected');
                }
            }
        }

        function calculateResults() {
            const selected = document.querySelector('input[name="currentQuestion"]:checked');
            if (!selected) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø© Ù‚Ø¨Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±');
                return;
            }

            saveCurrentAnswer();

            const scores = { visual: 0, auditory: 0, kinesthetic: 0 };
            let totalWeight = 0;

            studentAnswers.forEach((answerIndex, questionIndex) => {
                const question = questions[questionIndex];
                const selectedOption = question.options[answerIndex];
                scores[selectedOption.type] += selectedOption.weight;
                totalWeight += selectedOption.weight;
            });

            const percentages = {
                visual: Math.round((scores.visual / totalWeight) * 100),
                auditory: Math.round((scores.auditory / totalWeight) * 100),
                kinesthetic: Math.round((scores.kinesthetic / totalWeight) * 100)
            };

            const dominantStyle = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);

            const studentInfo = {
                id: Date.now(),
                name: document.getElementById('studentName').value.trim(),
                age: parseInt(document.getElementById('studentAge').value),
                grade: document.getElementById('studentGrade').value,
                learningStyle: dominantStyle,
                scores: scores,
                percentages: percentages,
                answers: [...studentAnswers],
                date: new Date().toLocaleDateString('ar-SA'),
                timestamp: new Date().toISOString()
            };

            studentData.push(studentInfo);
            localStorage.setItem('studentData', JSON.stringify(studentData));

            showResults(studentInfo);
        }

        function showResults(studentInfo) {
            document.getElementById('assessmentSection').classList.add('hidden');
            document.getElementById('resultsSection').classList.remove('hidden');

            const styleInfo = learningStyles[studentInfo.learningStyle];
            
            // Update main result card
            const resultCard = document.getElementById('mainResultCard');
            resultCard.className = `result-card ${studentInfo.learningStyle} mb-10`;
            
            document.getElementById('resultIcon').textContent = styleInfo.icon;
            document.getElementById('resultTitle').textContent = styleInfo.name;
            document.getElementById('resultDescription').textContent = styleInfo.description;
            document.getElementById('resultPercentage').textContent = studentInfo.percentages[studentInfo.learningStyle] + '%';

            // Update score circles
            document.getElementById('visualScore').textContent = studentInfo.percentages.visual + '%';
            document.getElementById('auditoryScore').textContent = studentInfo.percentages.auditory + '%';
            document.getElementById('kinestheticScore').textContent = studentInfo.percentages.kinesthetic + '%';

            // Generate personalized learning plan
            generatePersonalizedLearningPlan(studentInfo, styleInfo);

            // Generate personalized tips
            generatePersonalizedTips(styleInfo);

            // Scroll to results
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
        }

        function generatePersonalizedLearningPlan(studentInfo, styleInfo) {
            const planContainer = document.getElementById('learningPlan');
            
            const planContent = `
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="plan-card">
                        <h5 class="font-bold text-lg mb-3 text-gray-800">ğŸ¯ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© Ù„Ùƒ:</h5>
                        <ul class="space-y-2">
                            ${styleInfo.activities.map(activity => `
                                <li class="flex items-start">
                                    <span class="text-blue-600 ml-2 mt-1">â€¢</span>
                                    <span class="text-gray-700">${activity}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    <div class="plan-card">
                        <h5 class="font-bold text-lg mb-3 text-gray-800">ğŸ› ï¸ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©:</h5>
                        <ul class="space-y-2">
                            ${styleInfo.studyMethods.map(method => `
                                <li class="flex items-start">
                                    <span class="text-green-600 ml-2 mt-1">â€¢</span>
                                    <span class="text-gray-700">${method}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                </div>
                <div class="plan-card mt-6">
                    <h5 class="font-bold text-lg mb-3 text-gray-800">ğŸ“Š Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ:</h5>
                    <p class="text-gray-700 leading-relaxed">${styleInfo.assessment}</p>
                </div>
                <div class="plan-card">
                    <h5 class="font-bold text-lg mb-3 text-gray-800">ğŸ“ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:</h5>
                    <ul class="space-y-2">
                        ${styleInfo.teachingStrategies.map(strategy => `
                            <li class="flex items-start">
                                <span class="text-purple-600 ml-2 mt-1">â€¢</span>
                                <span class="text-gray-700">${strategy}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `;
            
            planContainer.innerHTML = planContent;
        }

        function generatePersonalizedTips(styleInfo) {
            const tipsContainer = document.getElementById('personalizedTips');
            
            const tipsContent = styleInfo.tips.map(tip => `
                <div class="plan-card">
                    <div class="flex items-start">
                        <span class="text-yellow-500 text-2xl ml-3 mt-1">ğŸ’¡</span>
                        <div>
                            <p class="text-gray-700 leading-relaxed">${tip}</p>
                        </div>
                    </div>
                </div>
            `).join('');
            
            tipsContainer.innerHTML = tipsContent;
        }

        function downloadReport() {
            const lastStudent = studentData[studentData.length - 1];
            if (!lastStudent) return;

            const styleInfo = learningStyles[lastStudent.learningStyle];
            
            const reportContent = `
ØªÙ‚Ø±ÙŠØ± Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø´Ø®ØµÙŠ Ø§Ù„Ù…ÙØµÙ„
================================

Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨:
===============
Ø§Ù„Ø§Ø³Ù…: ${lastStudent.name}
Ø§Ù„Ø¹Ù…Ø±: ${lastStudent.age} Ø³Ù†Ø©
Ø§Ù„ØµÙ: ${lastStudent.grade}
ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±: ${lastStudent.date}

Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:
===============
Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ: ${styleInfo.name} ${styleInfo.icon}
Ø§Ù„ÙˆØµÙ: ${styleInfo.description}

Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©:
==================
- Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø§Ù„Ø¨ØµØ±ÙŠ: ${lastStudent.percentages.visual}%
- Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø§Ù„Ø³Ù…Ø¹ÙŠ: ${lastStudent.percentages.auditory}%
- Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙƒÙŠ: ${lastStudent.percentages.kinesthetic}%

Ø®ØµØ§Ø¦Øµ Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù…:
==================
${styleInfo.characteristics.map(char => `â€¢ ${char}`).join('\n')}

Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…Ø®ØµØµØ©:
================
${styleInfo.tips.map(tip => `â€¢ ${tip}`).join('\n')}

Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:
================
${styleInfo.activities.map(activity => `â€¢ ${activity}`).join('\n')}

Ø·Ø±Ù‚ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:
====================
${styleInfo.studyMethods.map(method => `â€¢ ${method}`).join('\n')}

Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³:
====================
${styleInfo.teachingStrategies.map(strategy => `â€¢ ${strategy}`).join('\n')}

Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:
======================
${styleInfo.assessment}

ØªÙˆØµÙŠØ§Øª Ù„Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†:
=================
â€¢ ØªÙ†ÙˆÙŠØ¹ Ø·Ø±Ù‚ Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ù„ØªÙ†Ø§Ø³Ø¨ Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø­Ø¯Ø¯
â€¢ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…Ø·
â€¢ ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
â€¢ ØªÙˆÙÙŠØ± Ø¨ÙŠØ¦Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…Ø­ÙØ²Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…Ø·

---
ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ù…Ù†ØµØ© Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø°ÙƒÙŠØ©
ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡: ${new Date().toLocaleDateString('ar-SA')}
            `;

            const blob = new Blob([reportContent], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `ØªÙ‚Ø±ÙŠØ±_Ù†Ù…Ø·_Ø§Ù„ØªØ¹Ù„Ù…_${lastStudent.name}.txt`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        function shareResults() {
            const lastStudent = studentData[studentData.length - 1];
            if (!lastStudent) return;

            const styleInfo = learningStyles[lastStudent.learningStyle];
            const shareText = `ğŸ“ Ø§ÙƒØªØ´ÙØª Ù†Ù…Ø· ØªØ¹Ù„Ù…ÙŠ ÙÙŠ Ù…Ù†ØµØ© Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø°ÙƒÙŠØ©!\n\n${styleInfo.name} ${styleInfo.icon}\n${styleInfo.description}\n\nØ§Ù„Ù†ØªÙŠØ¬Ø©: ${lastStudent.percentages[lastStudent.learningStyle]}%\n\nØ§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©:\nğŸ‘ï¸ Ø¨ØµØ±ÙŠ: ${lastStudent.percentages.visual}%\nğŸ‘‚ Ø³Ù…Ø¹ÙŠ: ${lastStudent.percentages.auditory}%\nâœ‹ Ø­Ø±ÙƒÙŠ: ${lastStudent.percentages.kinesthetic}%\n\n#Ø£Ù†Ù…Ø§Ø·_Ø§Ù„ØªØ¹Ù„Ù… #Ø§Ù„ØªØ¹Ù„ÙŠÙ…_Ø§Ù„Ø°ÙƒÙŠ #Ø§Ù„ØªØ¹Ù„Ù…_Ø§Ù„Ù…Ø®ØµØµ`;

            if (navigator.share) {
                navigator.share({
                    title: 'Ù†ØªÙŠØ¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù…',
                    text: shareText
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†ØªØ§Ø¦Ø¬! ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø´Ø§Ø±ÙƒØªÙ‡Ø§ Ø§Ù„Ø¢Ù†');
                });
            }
        }

        function retakeTest() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠØ©.')) {
                showWelcomeSection();
                document.getElementById('studentName').value = '';
                document.getElementById('studentAge').value = '';
                document.getElementById('studentGrade').value = '';
            }
        }

        // Teacher Functions
        function showTeacherAccess() {
            if (!teacherData) {
                showTeacherSetup();
            } else {
                showTeacherLogin();
            }
        }

        function showTeacherSetup() {
            document.getElementById('teacherSetupModal').classList.remove('hidden');
            document.getElementById('teacherSetupModal').classList.add('flex');
            document.getElementById('teacherName').focus();
        }

        function hideTeacherSetup() {
            document.getElementById('teacherSetupModal').classList.add('hidden');
            document.getElementById('teacherSetupModal').classList.remove('flex');
            clearSetupForm();
        }

        function clearSetupForm() {
            document.getElementById('teacherName').value = '';
            document.getElementById('teacherSchool').value = '';
            document.getElementById('newTeacherPassword').value = '';
            document.getElementById('confirmTeacherPassword').value = '';
            document.getElementById('setupError').classList.add('hidden');
            resetPasswordStrength();
        }

        function checkPasswordStrength() {
            const password = document.getElementById('newTeacherPassword').value;
            const strengthBar = document.getElementById('strengthBar');
            const strengthText = document.getElementById('strengthText');
            
            let strength = 0;
            let text = 'Ø¶Ø¹ÙŠÙ';
            let color = '#ef4444';

            if (password.length >= 8) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[a-z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^A-Za-z0-9]/.test(password)) strength++;

            if (strength >= 4) {
                text = 'Ù‚ÙˆÙŠ Ø¬Ø¯Ø§Ù‹';
                color = '#10b981';
            } else if (strength >= 3) {
                text = 'Ø¬ÙŠØ¯';
                color = '#f59e0b';
            } else if (strength >= 2) {
                text = 'Ù…ØªÙˆØ³Ø·';
                color = '#f97316';
            }

            strengthBar.style.width = `${(strength / 5) * 100}%`;
            strengthBar.style.backgroundColor = color;
            strengthText.textContent = text;
        }

        function resetPasswordStrength() {
            document.getElementById('strengthBar').style.width = '0%';
            document.getElementById('strengthText').textContent = 'Ø¶Ø¹ÙŠÙ';
        }

        function setupTeacherAccount() {
            const name = document.getElementById('teacherName').value.trim();
            const school = document.getElementById('teacherSchool').value.trim();
            const password = document.getElementById('newTeacherPassword').value;
            const confirmPassword = document.getElementById('confirmTeacherPassword').value;
            const errorDiv = document.getElementById('setupError');

            if (!name || !password || !confirmPassword) {
                showError(errorDiv, 'ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }

            if (password.length < 8) {
                showError(errorDiv, 'ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                return;
            }

            if (password !== confirmPassword) {
                showError(errorDiv, 'ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');
                return;
            }

            // Hash password (simple encoding for demo)
            const hashedPassword = btoa(password + 'salt_key_2024');
            
            teacherData = {
                name: name,
                school: school || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                password: hashedPassword,
                createdAt: new Date().toISOString(),
                lastLogin: null
            };

            localStorage.setItem('teacherData', JSON.stringify(teacherData));
            
            hideTeacherSetup();
            alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ù„Ù… Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
            showTeacherLogin();
        }

        function showTeacherLogin() {
            document.getElementById('teacherLoginModal').classList.remove('hidden');
            document.getElementById('teacherLoginModal').classList.add('flex');
            
            if (teacherData) {
                document.getElementById('welcomeTeacherText').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${teacherData.name}ØŒ Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±`;
            }
            
            document.getElementById('teacherPassword').focus();
        }

        function hideTeacherLogin() {
            document.getElementById('teacherLoginModal').classList.add('hidden');
            document.getElementById('teacherLoginModal').classList.remove('flex');
            document.getElementById('teacherPassword').value = '';
            document.getElementById('loginError').classList.add('hidden');
        }

        function verifyTeacher() {
            const password = document.getElementById('teacherPassword').value;
            const hashedPassword = btoa(password + 'salt_key_2024');
            
            if (teacherData && teacherData.password === hashedPassword) {
                isTeacherLoggedIn = true;
                teacherData.lastLogin = new Date().toISOString();
                localStorage.setItem('teacherData', JSON.stringify(teacherData));
                
                hideTeacherLogin();
                showTeacherDashboard();
            } else {
                document.getElementById('loginError').classList.remove('hidden');
                setTimeout(() => {
                    document.getElementById('loginError').classList.add('hidden');
                }, 3000);
            }
        }

        function logout() {
            isTeacherLoggedIn = false;
            document.getElementById('teacherDashboard').classList.add('hidden');
            showWelcomeSection();
        }

        function showTeacherDashboard() {
            document.getElementById('welcomeSection').classList.add('hidden');
            document.getElementById('assessmentSection').classList.add('hidden');
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('teacherDashboard').classList.remove('hidden');
            
            document.getElementById('teacherWelcome').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${teacherData.name} - ${teacherData.school}`;
            
            updateTeacherStatistics();
            displayStudentsList();
            createCharts();
            populateFilters();
        }

        function updateTeacherStatistics() {
            const total = studentData.length;
            const visual = studentData.filter(s => s.learningStyle === 'visual').length;
            const auditory = studentData.filter(s => s.learningStyle === 'auditory').length;
            const kinesthetic = studentData.filter(s => s.learningStyle === 'kinesthetic').length;

            document.getElementById('totalStudents').textContent = total;
            document.getElementById('visualLearners').textContent = visual;
            document.getElementById('auditoryLearners').textContent = auditory;
            document.getElementById('kinestheticLearners').textContent = kinesthetic;
        }

        function createCharts() {
            createLearningStyleChart();
            createGradeDistributionChart();
        }

        function createLearningStyleChart() {
            const ctx = document.getElementById('learningStyleChart').getContext('2d');
            const visual = studentData.filter(s => s.learningStyle === 'visual').length;
            const auditory = studentData.filter(s => s.learningStyle === 'auditory').length;
            const kinesthetic = studentData.filter(s => s.learningStyle === 'kinesthetic').length;

            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Ø¨ØµØ±ÙŠ ğŸ‘ï¸', 'Ø³Ù…Ø¹ÙŠ ğŸ‘‚', 'Ø­Ø±ÙƒÙŠ âœ‹'],
                    datasets: [{
                        data: [visual, auditory, kinesthetic],
                        backgroundColor: ['#3B82F6', '#10B981', '#8B5CF6'],
                        borderWidth: 3,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: {
                                    family: 'Cairo',
                                    size: 14
                                },
                                padding: 20
                            }
                        }
                    }
                }
            });
        }

        function createGradeDistributionChart() {
            const ctx = document.getElementById('gradeDistributionChart').getContext('2d');
            const gradeCount = {};
            
            studentData.forEach(student => {
                gradeCount[student.grade] = (gradeCount[student.grade] || 0) + 1;
            });

            const labels = Object.keys(gradeCount);
            const data = Object.values(gradeCount);

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨',
                        data: data,
                        backgroundColor: 'rgba(99, 102, 241, 0.8)',
                        borderColor: 'rgba(99, 102, 241, 1)',
                        borderWidth: 2,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                font: {
                                    family: 'Cairo'
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1,
                                font: {
                                    family: 'Cairo'
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    family: 'Cairo'
                                }
                            }
                        }
                    }
                }
            });
        }

        function populateFilters() {
            const gradeFilter = document.getElementById('filterGrade');
            const grades = [...new Set(studentData.map(s => s.grade))];
            
            gradeFilter.innerHTML = '<option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙ</option>';
            grades.forEach(grade => {
                gradeFilter.innerHTML += `<option value="${grade}">${grade}</option>`;
            });
        }

        function displayStudentsList() {
            const container = document.getElementById('studentsList');
            
            if (studentData.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø·Ù„Ø§Ø¨ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>';
                return;
            }

            container.innerHTML = studentData.map(student => {
                const styleInfo = learningStyles[student.learningStyle];
                return `
                    <div class="dashboard-card hover-lift">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <div class="flex items-center mb-3">
                                    <h4 class="text-xl font-bold text-gray-800">${student.name}</h4>
                                    <span class="mr-3 text-3xl">${styleInfo.icon}</span>
                                    <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium">
                                        ${styleInfo.name}
                                    </span>
                                </div>
                                <div class="grid md:grid-cols-2 gap-4 text-gray-600">
                                    <div>
                                        <p class="mb-1"><strong>Ø§Ù„Ø¹Ù…Ø±:</strong> ${student.age} Ø³Ù†Ø©</p>
                                        <p class="mb-1"><strong>Ø§Ù„ØµÙ:</strong> ${student.grade}</p>
                                        <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${student.date}</p>
                                    </div>
                                    <div>
                                        <p class="mb-1"><strong>Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:</strong> <span class="text-blue-600 font-semibold">${student.percentages[student.learningStyle]}%</span></p>
                                        <div class="text-sm">
                                            <div class="flex justify-between">
                                                <span>ğŸ‘ï¸ Ø¨ØµØ±ÙŠ:</span>
                                                <span class="font-medium">${student.percentages.visual}%</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span>ğŸ‘‚ Ø³Ù…Ø¹ÙŠ:</span>
                                                <span class="font-medium">${student.percentages.auditory}%</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span>âœ‹ Ø­Ø±ÙƒÙŠ:</span>
                                                <span class="font-medium">${student.percentages.kinesthetic}%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center">
                                <button class="btn-primary text-sm py-2 px-4 hover-lift" onclick="generateIndividualPlan('${student.id}')">
                                    ğŸ“‹ Ø®Ø·Ø© ÙØ±Ø¯ÙŠØ©
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterStudents() {
            const gradeFilter = document.getElementById('filterGrade').value;
            const styleFilter = document.getElementById('filterStyle').value;
            
            let filteredData = studentData;
            
            if (gradeFilter) {
                filteredData = filteredData.filter(s => s.grade === gradeFilter);
            }
            
            if (styleFilter) {
                filteredData = filteredData.filter(s => s.learningStyle === styleFilter);
            }
            
            const container = document.getElementById('studentsList');
            
            if (filteredData.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„ÙÙ„ØªØ± Ø§Ù„Ù…Ø­Ø¯Ø¯</p>';
                return;
            }

            container.innerHTML = filteredData.map(student => {
                const styleInfo = learningStyles[student.learningStyle];
                return `
                    <div class="dashboard-card hover-lift">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <div class="flex items-center mb-3">
                                    <h4 class="text-xl font-bold text-gray-800">${student.name}</h4>
                                    <span class="mr-3 text-3xl">${styleInfo.icon}</span>
                                    <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium">
                                        ${styleInfo.name}
                                    </span>
                                </div>
                                <div class="grid md:grid-cols-2 gap-4 text-gray-600">
                                    <div>
                                        <p class="mb-1"><strong>Ø§Ù„Ø¹Ù…Ø±:</strong> ${student.age} Ø³Ù†Ø©</p>
                                        <p class="mb-1"><strong>Ø§Ù„ØµÙ:</strong> ${student.grade}</p>
                                        <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${student.date}</p>
                                    </div>
                                    <div>
                                        <p class="mb-1"><strong>Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:</strong> <span class="text-blue-600 font-semibold">${student.percentages[student.learningStyle]}%</span></p>
                                        <div class="text-sm">
                                            <div class="flex justify-between">
                                                <span>ğŸ‘ï¸ Ø¨ØµØ±ÙŠ:</span>
                                                <span class="font-medium">${student.percentages.visual}%</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span>ğŸ‘‚ Ø³Ù…Ø¹ÙŠ:</span>
                                                <span class="font-medium">${student.percentages.auditory}%</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span>âœ‹ Ø­Ø±ÙƒÙŠ:</span>
                                                <span class="font-medium">${student.percentages.kinesthetic}%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center">
                                <button class="btn-primary text-sm py-2 px-4 hover-lift" onclick="generateIndividualPlan('${student.id}')">
                                    ğŸ“‹ Ø®Ø·Ø© ÙØ±Ø¯ÙŠØ©
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Learning Plan Generators
        function generateVisualPlan() {
            const styleInfo = learningStyles.visual;
            const visualStudents = studentData.filter(s => s.learningStyle === 'visual');
            
            showLearningPlanModal('Ø®Ø·Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ† Ø§Ù„Ø¨ØµØ±ÙŠÙŠÙ†', styleInfo, visualStudents);
        }

        function generateAuditoryPlan() {
            const styleInfo = learningStyles.auditory;
            const auditoryStudents = studentData.filter(s => s.learningStyle === 'auditory');
            
            showLearningPlanModal('Ø®Ø·Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ† Ø§Ù„Ø³Ù…Ø¹ÙŠÙŠÙ†', styleInfo, auditoryStudents);
        }

        function generateKinestheticPlan() {
            const styleInfo = learningStyles.kinesthetic;
            const kinestheticStudents = studentData.filter(s => s.learningStyle === 'kinesthetic');
            
            showLearningPlanModal('Ø®Ø·Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ† Ø§Ù„Ø­Ø±ÙƒÙŠÙŠÙ†', styleInfo, kinestheticStudents);
        }

        function generateIndividualPlan(studentId) {
            const student = studentData.find(s => s.id == studentId);
            if (!student) return;
            
            const styleInfo = learningStyles[student.learningStyle];
            showLearningPlanModal(`Ø®Ø·Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙØ±Ø¯ÙŠØ© - ${student.name}`, styleInfo, [student], true);
        }

        function showLearningPlanModal(title, styleInfo, students, isIndividual = false) {
            document.getElementById('planModalTitle').textContent = title;
            
            const planContent = `
                <div class="space-y-6">
                    ${isIndividual ? `
                        <div class="dashboard-card">
                            <h4 class="text-lg font-bold text-gray-800 mb-3">ğŸ‘¤ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</h4>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${students[0].name}</p>
                                    <p><strong>Ø§Ù„Ø¹Ù…Ø±:</strong> ${students[0].age} Ø³Ù†Ø©</p>
                                    <p><strong>Ø§Ù„ØµÙ:</strong> ${students[0].grade}</p>
                                </div>
                                <div>
                                    <p><strong>Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù…:</strong> ${styleInfo.name}</p>
                                    <p><strong>Ø§Ù„Ù†Ø³Ø¨Ø©:</strong> ${students[0].percentages[students[0].learningStyle]}%</p>
                                    <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</strong> ${students[0].date}</p>
                                </div>
                            </div>
                        </div>
                    ` : `
                        <div class="dashboard-card">
                            <h4 class="text-lg font-bold text-gray-800 mb-3">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©</h4>
                            <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨:</strong> ${students.length} Ø·Ø§Ù„Ø¨</p>
                            <p><strong>Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù…:</strong> ${styleInfo.name} ${styleInfo.icon}</p>
                        </div>
                    `}
                    
                    <div class="dashboard-card">
                        <h4 class="text-lg font-bold text-gray-800 mb-4">ğŸ“ ÙˆØµÙ Ù†Ù…Ø· Ø§Ù„ØªØ¹Ù„Ù…</h4>
                        <p class="text-gray-700 leading-relaxed">${styleInfo.description}</p>
                    </div>
                    
                    <div class="dashboard-card">
                        <h4 class="text-lg font-bold text-gray-800 mb-4">ğŸ¯ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h4>
                        <ul class="space-y-2">
                            ${styleInfo.characteristics.map(char => `
                                <li class="flex items-start">
                                    <span class="text-blue-600 ml-2 mt-1">â€¢</span>
                                    <span class="text-gray-700">${char}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="dashboard-card">
                            <h4 class="text-lg font-bold text-gray-800 mb-4">ğŸ¨ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h4>
                            <ul class="space-y-2">
                                ${styleInfo.activities.map(activity => `
                                    <li class="flex items-start">
                                        <span class="text-green-600 ml-2 mt-1">â€¢</span>
                                        <span class="text-gray-700">${activity}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                        
                        <div class="dashboard-card">
                            <h4 class="text-lg font-bold text-gray-800 mb-4">ğŸ› ï¸ Ø·Ø±Ù‚ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</h4>
                            <ul class="space-y-2">
                                ${styleInfo.studyMethods.map(method => `
                                    <li class="flex items-start">
                                        <span class="text-purple-600 ml-2 mt-1">â€¢</span>
                                        <span class="text-gray-700">${method}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h4 class="text-lg font-bold text-gray-800 mb-4">ğŸ“ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³</h4>
                        <ul class="space-y-2">
                            ${styleInfo.teachingStrategies.map(strategy => `
                                <li class="flex items-start">
                                    <span class="text-orange-600 ml-2 mt-1">â€¢</span>
                                    <span class="text-gray-700">${strategy}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    
                    <div class="dashboard-card">
                        <h4 class="text-lg font-bold text-gray-800 mb-4">ğŸ“Š Ø·Ø±Ù‚ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©</h4>
                        <p class="text-gray-700 leading-relaxed">${styleInfo.assessment}</p>
                    </div>
                    
                    <div class="dashboard-card">
                        <h4 class="text-lg font-bold text-gray-800 mb-4">ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù„Ù„Ø·Ù„Ø§Ø¨</h4>
                        <ul class="space-y-2">
                            ${styleInfo.tips.map(tip => `
                                <li class="flex items-start">
                                    <span class="text-yellow-600 ml-2 mt-1">â€¢</span>
                                    <span class="text-gray-700">${tip}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                </div>
            `;
            
            document.getElementById('planModalContent').innerHTML = planContent;
            
            // Store current plan for download
            currentGeneratedPlan = {
                title: title,
                styleInfo: styleInfo,
                students: students,
                isIndividual: isIndividual
            };
            
            document.getElementById('learningPlanModal').classList.remove('hidden');
            document.getElementById('learningPlanModal').classList.add('flex');
        }

        function hideLearningPlanModal() {
            document.getElementById('learningPlanModal').classList.add('hidden');
            document.getElementById('learningPlanModal').classList.remove('flex');
        }

        function downloadCurrentPlan() {
            if (!currentGeneratedPlan) return;
            
            const { title, styleInfo, students, isIndividual } = currentGeneratedPlan;
            
            let planContent = `
${title}
${'='.repeat(title.length)}

`;

            if (isIndividual) {
                const student = students[0];
                planContent += `
Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨:
===============
Ø§Ù„Ø§Ø³Ù…: ${student.name}
Ø§Ù„Ø¹Ù…Ø±: ${student.age} Ø³Ù†Ø©
Ø§Ù„ØµÙ: ${student.grade
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97d6692186a3b157',t:'MTc1NzU4NTc5Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>